# java

## Greeting
* 中身が違っても同じクラス型。
* 取得方法は同じでも得られる結果が違う。
### ポイント
* Localeの情報を元にインスタンス化するオブジェクトを切り替えている。
* インターフェースの定義であるGreeting型で扱えば、そこにはGreetingJA,GreetingENを入れられるので、インスタンス化さえ終われば呼び出しオブジェクトはすっきりする。
  * 言い換えると、「現在どのオブジェクトがインスタンス化されているか」という分岐が不要になる。
### 問題点
* mainの前半の「時間帯によってインスタンス化する対象を切り替えている」箇所を綺麗にしたい。

## Factory
* Factoryクラスを作成し、「時間帯によってインスタンス化する対象を切り替えている」処理をそちらに任せるように変更。
* Greeting*のアクセス修飾子を削除
  * 同一パッケージからしかアクセスできなくなった。
  * つまりFactoryクラスからしかアクセスできないクラスとなった。
  * その結果、「他のパッケージから使える機能に制限を加える」ことができる。
### 問題点
* 対応言語を増やすと、Factory#createの分岐が増えていく。
  
## Factory2
* Greeting*クラス自身は自分が「何の言語に対応しているか」分かっていて良い。
  * 自分と同じロケールか、判断する処理を入れる。
* Factoryクラスの内部の修正
  * フィールド変数に「何の言語をサポートしているか」を意味する配列を用意。
  * その配列をイテレートして、対応言語を反映する。
  
## filter
* 共通クラスやメソッドを定義して、同じような記述をしないよう共通化を行う上での一つの方法。
* 絞り込み条件は呼び出し元が知っている。
  * 呼び出し元で絞り込み条件を指定する。具体的には引数として渡す。
  * 上記の上で絞り込みメソッドを呼びだす。
  
## filter2
* インターフェイスの実装を行わず、引数で渡すタイミングで行うパターン。