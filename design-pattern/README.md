# デザインパターン

## Factory Method
* インスタンスの生成をサブクラスに任せる。
* newすることの問題点。
  * 生成するインスタンスに変更が入った場合、改修が面倒臭い。
  * 複雑なインスタンス生成処理を行う場合、そのようなコードが複数箇所にできてしまう。
    * インスタンス化前後の処理が発生してしまうケース。
* Factoryをstaticにして、内部の分岐でどのインスタンスを返すか作成するパターンもあり。
  * StaticFactory.java
  * Factoryクラスを1つにできる。
* FactoryMethodパターンを用いる場合、クラス名の末尾に*Factoryをつけるなどして分かりやすくする。


## Abstract Factory
* 1つの製品・サービスを提供する際、必要な部品が複数個あり、それらが関連している場合、部品とそれを生成する工場を抽象化する。
  * 切り替えの指標を見て、部品をごそっと切り替える。
* getFactoryメソッド内ではClassクラスを使ってインスタンスを生成している。
  * if分などで分岐処理を入れると、拡張があった際にFactoryクラスの修正が必要になる。
  * Classクラスを使った動的なメソッド呼び出しをリフレクションと呼ぶ。
  * OsFactoryへキャストしている箇所は、インターフェースを導入することでキャストの記述をなくせる？
* 利用ケース
  * Productが複数存在するケース
  * Productを拡張する必要がある場合
  * 実行環境に追加や変化が生じる場合
  
  
## Builder
